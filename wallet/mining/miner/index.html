<md-dialog class="fill col">
    <div class="row header align-start-center">
        <div class="row align-center-center img32 back-gray radius-default ripple">
            <button class="toggle"
                    ng-class="{'active': (miner_account.domains || '').indexOf(domain) != -1}"
                    ng-click="toggleDomain(account.domain)"></button>
        </div>
        <div class="flex row align-center-center gap8">
            <p>{{str.mining}}</p>
        </div>
        <div class="row align-center-center img32 back-gray radius-default ripple" ng-click="close()">
            <img class="img16 img-gray400" src="/mfm-wallet/img/close.svg">
        </div>
    </div>
    <div class="flex col scroll align-start-center">
        <div class="flex col block">
            <img class="refresh-icon img-gray" src="/mfm-wallet/img/close.svg">
            <div class="input-content">
                <div class="col mr4 radius-default border-gray p16 gap8 relative">
                    <div class="row align-start-center">
                        <p class="flex">{{token_account ? formatAmount(token_account.balance) + " " : ""}}{{formatDomain(domain)}}</p>
                        <div class="row gap4 align-start-center">
                            <img class="img20 img-white" src="/mfm-wallet/img/energy.svg">
                            <p>{{formatAmount(gas_account ? gas_account.balance * 100 : 0, null, 2)}}</p>
                        </div>
                    </div>
                    <div class="row align-start-center" style="margin-top: 50px">
                        <div class="flex col">
                            <p class="text2">{{str.difficulty}}</p>
                            <p class="text0">{{formatDifficulty(difficulty)}}</p>
                        </div>
                        <button class="mt8" ng-click="openSend(wallet.gas_domain, wallet.MINER_ADDRESS, null, refresh)">
                            {{str.top_up}}
                        </button>
                    </div>
                    <div style="position: absolute;
                    top: 0;
                    right: 0;
                    width: 100px;
                    height: 100px;
                    background-size: cover;
                    background-position: center;
                    opacity: 0.2;
                    z-index: -1;"
                    ng-style="{'background-image': 'url(\'' + getLogoLink(domain) + '\')'}"></div>
                </div>
                <div class="row">
                    <p class="flex text2">{{str.mining_cost_price}}</p>
                    <p>{{formatPrice(((difficulty / 100000 * 0.0001) + 0.0003) / getReward())}}</p>
                </div>
                <!--<div class="row">
                    <p class="flex text2">{{str.tariff_speed}}</p>
                    <p>{{formatAmount(getMinerHashRate(), str.hash_per_min)}}</p>
                </div>
                <div class="row">
                    <p class="flex text2">{{str.tokens}} {{str.month}}</p>
                    <p>{{formatAmount(getMinerHashRate() / difficulty * minutesInMonth * getReward(), domain)}}</p>
                </div>
                <div class="row">
                    <p class="flex text2">{{str.costs}} {{str.month}}</p>
                    <p>{{formatPrice(getMinerHashRate() / difficulty * minutesInMonth * 0.0004)}}</p>
                </div>
                <div class="row">
                    <p class="flex text2">{{str.price}}</p>
                    <p>{{formatPrice(token ? token.price : 1)}}</p>
                </div>
                <div class="row">
                    <p class="flex text2">{{str.predicted_profit}} {{str.month}}</p>
                    <p>{{formatPrice((getMinerHashRate() / difficulty * minutesInMonth * getReward() * (token ? token.price : 1))
                            - (getMinerHashRate() / difficulty * minutesInMonth * 0.0004))}}</p>
                </div>-->

                <div ng-show="accounts && accounts.length > 0">
                    <p class="text1 mb8">{{str.miner_balances}}</p>
                    <ng-include src="'/mfm-wallet/wallet/accounts.html?v=9'"></ng-include>
                </div>
                <div class="nowrap-disabled"
                     ng-include="'/mfm-wallet/wallet/mining/faq/' + getLanguage() + '.html'"></div>

                <p class="text1" ng-show="trans">{{str.last_rewards}}</p>
                <ng-include src="'/mfm-wallet/wallet/trans.html?v=9'"></ng-include>
                <div class="col align-center-center text1 text-gray"
                     ng-hide="trans.length > 0"
                     style="height: 100px">
                    {{str.there_is_no_history_yet}}
                </div>
            </div>
        </div>
    </div>
    <div class="primary-button"
         ng-disabled="!token_account || token_account.balance == 0"
         ng-click="withdrawal(domain)">
        {{str.withdrawal}}
    </div>
</md-dialog>